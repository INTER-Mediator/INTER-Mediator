<!DOCTYPE html>
<!-- Please keep the CLASS-IM[] style target descriptions for compatibility to the paper -->
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>INTER-Mediator - Sample - Asset List/MySQL</title>
    <script src="asset_contexts.php"></script>
    <script>
        function setBackDate(id)   {
            var context = IMLibContextPool.getContextFromName("rent")[0];
            context.setDataAtLastRecord('backdate',generateToday());
        }

        function generateToday()    {
            var today = new Date();
            var todayString = today.getFullYear() + "-"
                    + ("0" + (today.getMonth() + 1)).substr(-2, 2) + "-"
                    + ("0" + today.getDate()).substr(-2, 2);
            return todayString;
        }
    </script>
</head>
<body>
<header>
  <p class="logo"><img src="../images/logo_t-100.png" alt=""></p>
</header>
<div id="wrapper">
  <h1>社内資産備品管理（サンプル）</h1>
  <!--<p><a href="asset_list.html">資産一覧に戻る</a></p>-->
  <div id="IM_NAVIGATOR"></div>
  <table>
    <thead>
      <tr><th></th><th>分類</th><th>名称</th><th>メーカー</th><th>型番</th><th>取得日</th><th>破棄日</th><th></th></tr>
      </thead>
    <tbody>
      <tr>
        <td></td>
        <td data-im="asseteffect@category"></td>
        <td data-im="asseteffect@name"></td>
        <td data-im="asseteffect@manifacture"></td>
        <td data-im="asseteffect@productinfo"></td>
        <td data-im="asseteffect@purchase"></td>
        <td data-im="asseteffect@discard"></td>
        <td></td>
      </tr>
      </tbody>
  </table>
  
  <table>
    <tbody>
      <tr>
        <th>名称</th><td><input type="text" data-im="assetdetail@name"/></td>
        <th>分類</th><td><input type="text" data-im="assetdetail@category"/></td>
        <th>メモ</th>
      </tr>
      <tr><th>メーカー</th>
        <td><input type="text" data-im="assetdetail@manifacture"/></td>
        <th>型番</th><td><input type="text" data-im="assetdetail@productinfo"/></td>
        <td rowspan="4" class="align_top">
          <textarea rows="8" data-im="assetdetail@memo"></textarea>
          <hr>
          <button onclick="setBackDate()">本日返却</button>
          </td>
      </tr>
      <tr>
        <th>取得日</th><td><input type="text" data-im="assetdetail@purchase"/></td>
        <th>破棄日</th><td><input type="text" data-im="assetdetail@discard"/></td>
      </tr>
      <tr><td colspan="4">
        <table>
          <thead><tr><th>貸出日</th><th>返却日</th><th>担当者</th><th>メモ</th></tr></thead>
          <tbody>
            <tr>
              <td data-im="rent@rentdate"></td>
              <td data-im="rent@backdate"></td>
              <td>
                <select data-im="rent@staff_id">
                  <option data-im="staff@staff_id@value staff@name"></option>
                  </select>
                </td>
              <td><input type="text" data-im="rent@memo"/></td>
              </tr>
            </tbody>
          </table>
      </td></tr>
      </tbody>
  </table>
</div>
<footer>
<small>INTER-Mediator ©2017</small>
</footer>
</body>
</html>