<!DOCTYPE html>
<!--
/*
 * INTER-Mediator Ver.@@@@2@@@@ Released @@@@1@@@@
 *
 *   Copyright (c) 2010-2015 INTER-Mediator Directive Committee, All rights reserved.
 *
 *   This project started at the end of 2009 by Masayuki Nii  msyk@msyk.net.
 *   INTER-Mediator is supplied under MIT License.
 */
-->
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>INTER-Mediator - Sample - Client-Side Calculation/MySQL</title>
    <link rel="stylesheet" type="text/css" href="../sample.css">
    <script type="text/javascript" src="formattest.php"></script>
</head>
<body onload="INTERMediator.construct(true)">
<div id="IM_NAVIGATOR">Navigation Controls by INTER-Mediator</div>
<table border="1">
    <tbody>
    <tr>
        <td>id</td>
        <td><input type="text" data-im="invoice@id"></td>
    </tr>
    <tr>
        <td>issued</td>
        <td><input type="text" data-im="invoice@issued" value=""></td>
    </tr>
    <tr>
        <td>title</td>
        <td><input type="text" data-im="invoice@title" value=""></td>
    </tr>
    <tr>
        <td colspan="2">
            <table border="1">
                <thead>
                <tr>
                    <th>product</th>
                    <th>qty</th>
                    <th>unitprice (master)</th>
                    <th>amount</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <input type="text" data-im="item@product_id" size="2">

                        <div class="inline" data-im-control="enclosure">
                            <div class="inline" data-im-control="repeater">
                                <span data-im="product@name"></span>
                            </div>
                        </div>
                    </td>
                    <td><input class="price" type="text" data-im="item@qty" size="5"></td>
                    <td>
                        <input class="price" type="text" data-im="item@unitprice" size="8">
                        <div class="inline" data-im-control="enclosure">
                            <div class="inline price" data-im-control="repeater">
                                (<span data-im="product@unitprice"></span>)
                            </div>
                        </div>
                    </td>
                    <td align="right">
                        <span align="right" data-im="item@amount_calc"
                              data-im-format="number()"></span>
                    </td>
                    <td></td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    <tr>
        <td>Tax Rate:</td>
        <td><input type="text" data-im="_@taxRate"></td>
    </tr>
    <tr>
        <td>Total:</td>
        <td data-im="invoice@total_calc"></td>
    </tr>
    <tr>
        <td>Total（数字書式：論理値）:</td>
        <td data-im="invoice@total_calc" data-im-format="boolean('True', 'False')" data-im-format-options="blankifzero"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数）:</td>
        <td data-im="invoice@total_calc" data-im-format="number"></td>
    </tr>
    <tr>
        <td>Total（数字書式：通貨）:</td>
        <td data-im="invoice@total_calc" data-im-format="currency"></td>
    </tr>
    <tr>
        <td>Total（数字書式：パーセント）:</td>
        <td data-im="invoice@total_calc" data-im-format="percent"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数、3桁区切りを使用）:</td>
        <td data-im="invoice@total_calc" data-im-format="number" data-im-format-options="useseparator"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数、3桁区切りを使用、小数点以下の桁数2桁）:</td>
        <td data-im="invoice@total_calc" data-im-format="number(2)" data-im-format-options="useseparator"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数、0の場合は数値を表示しない）:</td>
        <td data-im="invoice@total_calc" data-im-format="number" data-im-format-options="blankifzero"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数、マイナス表示書式例：-1234）:</td>
        <td data-im="invoice@total_calc" data-im-format="number" data-im-format-negative-color="#FF0000" data-im-format-negative-style="leadingminus"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数、マイナス表示書式例：1234-）:</td>
        <td data-im="invoice@total_calc" data-im-format="number" data-im-format-negative-color="#FF0000" data-im-format-negative-style="trailingminus"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数、マイナス表示書式例：(1234)）:</td>
        <td data-im="invoice@total_calc" data-im-format="number" data-im-format-negative-color="#FF0000" data-im-format-negative-style="parenthesis"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数、マイナス表示書式例：<1234>）:</td>
        <td data-im="invoice@total_calc" data-im-format="number" data-im-format-negative-color="#FF0000" data-im-format-negative-style="angle"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数、マイナス表示書式例：1234 CR）:</td>
        <td data-im="invoice@total_calc" data-im-format="number" data-im-format-negative-color="#FF0000" data-im-format-negative-style="credit"></td>
    </tr>
    <tr>
        <td>Total（数字書式：小数、マイナス表示書式例：▲1234）:</td>
        <td data-im="invoice@total_calc" data-im-format="number" data-im-format-negative-color="#FF0000" data-im-format-negative-style="triangle"></td>
    </tr>
    </tbody>
</table>
</body>
</html>