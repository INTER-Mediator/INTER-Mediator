<!DOCTYPE html>
<!--
/*
 * INTER-Mediator
 * Copyright (c) INTER-Mediator Directive Committee (http://inter-mediator.org)
 * This project started at the end of 2009 by Masayuki Nii msyk@msyk.net.
 *
 * INTER-Mediator is supplied under MIT License.
 * Please see the full license for details:
 * https://github.com/INTER-Mediator/INTER-Mediator/blob/master/dist-docs/License.txt
 */
-->
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>INTER-Mediator - Sample - Client-Side Calculation/MySQL</title>
    <link rel="stylesheet" type="text/css" href="invoice.css">
    <script type="text/javascript" src="include_MySQL.php"></script>
    <script>
      INTERMediatorOnPage.doBeforeConstruct = function () {
        INTERMediatorLog.suppressDebugMessageOnPage = true;
      };
    </script>
</head>
<body>
<header>
    <p class="logo"><img src="../images/logo_t-100.png" alt=""></p>
</header>
<div id="wrapper">
    <h1>Invoice (Sample for Calculation)</h1>
    <div class="sub_title" id="IM_NAVIGATOR">Navigation Controls by INTER-Mediator</div>
    <table class="_im_test-invoce-table">
        <tbody>
        <tr>
            <th>id</th>
            <td><input type="text" data-im="invoice@id" class="_im_test-invoice-id"></td>
        </tr>
        <tr>
            <th>issued</th>
            <td>
                <input type="text" data-im="invoice@issued" data-im-format="date(long)" class="_im_test-invoice-issued">
                <span data-im="invoice@issued" data-im-format="date(%g%m月%d日)"
                      class="_im_test-invoice-issued-formatted"></span>
            </td>
        </tr>
        <tr>
            <th>title</th>
            <td><input type="text" data-im="invoice@title" class="_im_test-invoice-title"></td>
        </tr>
        <tr>
            <td colspan="2">
                <table class="_im_test-item-table">
                    <thead>
                    <tr>
                        <th>product</th>
                        <th>qty</th>
                        <th>product_name</th>
                        <th>unitprice</th>
                        <th>net price</th>
                        <th>tax price</th>
                        <th>amount</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>
                            <div>
                                <input type="text" data-im="item@product_id" size="2" class="_im_test-item-product_id">
                            </div>
                            <div class="inline" data-im-control="enclosure">
                                <div class="inline" data-im-control="repeater">
                                    <span data-im="product@name" class="_im_test-product-name"></span>
                                </div>
                            </div>
                            <select data-im="item@product_id" class="_im_test-product-id">
                                <option data-im="productlist@id@value productlist@name"
                                        class="_im_test-productlist-name"></option>
                            </select>
                        </td>
                        <td>
                            <input class="price" type="text" size="5"
                                   data-im="item@qty item@qty_color@style.color" class="_im_test-item-qty">
                        </td>
                        <td>
                            <div><input type="text" size="20"
                                        data-im="item@product_name"
                                        data-im-control="lookup:item@product_id:product@name"
                                        class="_im_test-item-puroduct_name"></div>
                        </td>
                        <td>
                            <div>
                                <input class="price" type="text" size="8"
                                       data-im="item@product_unitprice"
                                       data-im-control="lookup:item@product_id:product@unitprice"
                                       data-im-format="number()"
                                       data-im-format-options="useseparator"
                                       class="_im_test-item-unitprice">
                            </div>
                        </td>
                        <td style="text-align: right">
                            <span data-im="item@net_price" data-im-format="number()"
                                  data-im-format-options="useseparator" class="_im_test-item-net_price"></span></td>
                        <td style="text-align: right">
                            <span data-im="item@tax_price" data-im-format="number()"
                                  data-im-format-options="useseparator" class="_im_test-item-tax_price"></span></td>
                        <td style="text-align: right">
                            <span data-im="item@amount_calc" data-im-format="number()"
                                  data-im-format-options="useseparator" class="_im_test-item-amount_calc"></span></td>
                        <td></td>
                    </tr>
                    </tbody>
                </table>
            </td>
        </tr>
        <tr>
            <th>Tax Rate:</th>
            <td><input type="text" data-im="_@taxRate" class="_im_test-taxRate"></td>
        </tr>
        <tr>
            <th>Total:</th>
            <td data-im="invoice@total_calc"
                data-im-format="currency(2)"
                data-im-format-options="useseparator" class="_im_test-invoice-total_calc"></td>
        </tr>
        </tbody>
    </table>
</div>
<footer>
    <small>INTER-Mediator ©2022</small>
</footer>
</body>
</html>
