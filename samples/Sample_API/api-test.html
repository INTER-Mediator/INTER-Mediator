<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <title>INTER-Mediator - Sample - API</title>
    <script>
      async function callAPI() {
        const url = document.getElementById('url').value;
        const method = document.getElementById('method').value;
        const body = document.getElementById('body').value;
        const resultArea = document.getElementById('result');
        resultArea.value = '';

        try {
          const options = {
            headers: {
              'Content-Type': 'application/json',
              'Authorization': 'Bearer f9b73706b337feee318b3527a464f39108016e9facab848f42e37426594ebafe'
            },
            method: method
          };
          if (body) {
            options.body = body;
          }
          const response = await fetch(url, options);
          const responseText = await response.text();
          try {
            resultArea.value = JSON.stringify(JSON.parse(responseText), null, 2);
          } catch (e) {
            resultArea.value = responseText;
          }
        } catch (error) {
          resultArea.value = `Exception during API call: ${error}`;
        }
      }
    </script>
</head>
<body>
<h1>INTER-Mediator API Sample Test Page</h1>
<p>This page isn't generated by INTER-Mediator.</p>
<div>
    <h2>Request</h2>
    URL: <input type="text" id="url" value="api.php/person/1" size="40"/><br>
    Method: <select id="method">
    <option value="GET">GET</option>
    <option value="POST">POST</option>
    <option value="PUT">PUT</option>
    <option value="DELETE">DELETE</option>
</select><br>
    Body:<textarea id="body" style="width: 600px; height: 50px"></textarea><br>
    <button onclick="callAPI();">API Call</button>
</div>
<div>
    <h2>Response</h2>
    <textarea id="result" style="width: 600px; height: 100px"></textarea>
</div>
<div><a href="api.php" target="_blank">Show the API Specification.</a></div>
</body>
</html>